@model ITProductECommerce.ViewModels.LoginVM

@{
    ViewData["Title"] = "Login";
}

<!-- Single Page Header start -->
<div class="container-fluid page-header py-5">
    <h1 class="text-center text-white display-6">Login</h1>
    <ol class="breadcrumb justify-content-center mb-0">
        <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
        <li class="breadcrumb-item active text-white">Login</li>
    </ol>
</div>
<!-- Single Page Header End -->

<div class="container-fluid py-5">
    <div class="container py-5">
        <h1 class="mb-4">Welcome back!</h1>
        <form asp-action="Login" asp-route-returnurl="@ViewBag.ReturnURL">
            <div class="text-danger" asp-validation-summary="All"></div>
            <div class="row g-5">
                <div class="col-md-12 col-lg-6 col-xl-7">
                    <div class="row">
                        <div class="col-md-12 col-lg-6">
                            <div class="form-item w-100">
                                <label asp-for="@Model.Username" class="form-label my-3"></label><sup>*</sup>
                                <input asp-for="@Model.Username" type="text" class="form-control">
                                <span asp-validation-for="@Model.Username" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-6">
                            <div class="form-item w-100">
                                <label asp-for="@Model.Password" class="form-label my-3"></label><sup>*</sup>
                                <input asp-for="@Model.Password" type="password" class="form-control" id="password-field">
                                <span toggle="#password-field" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                                <span asp-validation-for="@Model.Password" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row g-4 text-center align-items-center justify-content-center pt-4">
                        <button type="submit" class="btn border-secondary py-3 px-4 text-uppercase w-100 text-primary">Login</button>
                        <div class="d-flex justify-content-between pt-3">
                            <div class="form-item">
                                <input asp-for="@Model.RememberMe" type="checkbox" class="form-check-input" id="RememberMe" name="RememberMe">
                                <label class="form-check-label" for="RememberMe">Remember me</label>
                            </div>
                            <p>Not have an account yet? <a asp-controller="Auth" asp-action="Register">Register now!</a></p>
                        </div>
                        <a asp-controller="Auth" asp-action="ForgotPassword" class="btn border-danger">Forget Password?</a>
                    </div>
                </div>
                <div class="col-md-12 col-lg-6 col-xl-5">
                    <div id="edit-container">
                        <img src="~/static/login-banner-img.jpg" />
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts{
    <script>
        $(".toggle-password").click(function () {

            $(this).toggleClass("fa-eye fa-eye-slash");
            var input = $($(this).attr("toggle"));
            if (input.attr("type") == "password") {
                input.attr("type", "text");
            } else {
                input.attr("type", "password");
            }
        });

        var chat = localStorage.getItem("chatVisible");
        if (chat == "True") {
            $(".chat-popup").show();
        }
        else {
            $(".chat-popup").hide();
        }
    </script>
}

